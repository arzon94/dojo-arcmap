//>>built
!function(r,w){"function"==typeof define&&define.amd?define(["exports"],w):w("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:r.maquette={})}(this,function(r){var w,C,F=[],A=function(b,a){var c={};return Object.keys(b).forEach(function(a){c[a]=b[a]}),a&&Object.keys(a).forEach(function(b){c[b]=a[b]}),c},D=function(b,a){return b.vnodeSelector!==a.vnodeSelector?!1:b.properties&&a.properties?b.properties.key!==a.properties.key?!1:b.properties.bind===a.properties.bind:!b.properties&&
!a.properties},G=function(b){return{vnodeSelector:"",properties:void 0,children:void 0,text:b.toString(),domNode:null}},H=function(b,a,c){for(var e=0,h=a.length;h>e;e++){var g=a[e];Array.isArray(g)?H(b,g,c):null!==g&&void 0!==g&&(g.hasOwnProperty("vnodeSelector")||(g=G(g)),c.push(g))}},I=function(){throw Error("Provide a transitions object to the projectionOptions to do animations");},y={namespace:void 0,eventHandlerInterceptor:void 0,styleApplyer:function(b,a,c){b.style[a]=c},transitions:{enter:I,
exit:I}},J=function(b){if("string"!=typeof b)throw Error("Style values must be strings");},M=function(b,a,c){if(a)for(var e=c.eventHandlerInterceptor,h=Object.keys(a),g=h.length,d=function(d){d=h[d];var f=a[d];if("className"===d)throw Error('Property "className" is not supported, use "class".');if("class"===d)f.split(/\s+/).forEach(function(a){return b.classList.add(a)});else if("classes"===d){var g=Object.keys(f),l=g.length;for(d=0;l>d;d++){var m=g[d];f[m]&&b.classList.add(m)}}else if("styles"===
d)for(g=Object.keys(f),l=g.length,d=0;l>d;d++){var m=g[d],n=f[m];n&&(J(n),c.styleApplyer(b,m,n))}else"key"!==d&&null!==f&&void 0!==f&&(g=typeof f,"function"===g?0===d.lastIndexOf("on",0)&&(e&&(f=e(d,f,b,a)),"oninput"===d&&!function(){var a=f;f=function(b){b.target["oninput-value"]=b.target.value;a.apply(this,[b])}}(),b[d]=f):"string"===g&&"value"!==d&&"innerHTML"!==d?"http://www.w3.org/2000/svg"===c.namespace&&"href"===d?b.setAttributeNS("http://www.w3.org/1999/xlink",d,f):b.setAttribute(d,f):b[d]=
f)},l=0;g>l;l++)d(l)},K=function(b,a){var c=b.domNode;if(b.properties){var e=b.properties.exitAnimation;if(e){c.style.pointerEvents="none";var h=function(){c.parentNode&&c.parentNode.removeChild(c)};return"function"==typeof e?void e(c,h,b.properties):void a.exit(b.domNode,b.properties,e,h)}}c.parentNode&&c.parentNode.removeChild(c)},E=function(b,a,c,e){var h=b[a];if(""!==h.vnodeSelector){var g=h.properties;if(!(g&&(void 0===g.key?g.bind:g.key)))for(g=0;g<b.length;g++)if(g!==a&&D(b[g],h))throw"added"===
e?Error(c.vnodeSelector+" had a "+h.vnodeSelector+" child added, but there is now more than one. You must add unique key properties to make them distinguishable."):Error(c.vnodeSelector+" had a "+h.vnodeSelector+" child removed, but there were more than one. You must add unique key properties to make them distinguishable.");}},L=function(b,a,c){var e=a.children;if(e)for(var h=0;h<e.length;h++)w(e[h],b,void 0,c);a.text&&(b.textContent=a.text);M(b,a.properties,c);a.properties&&a.properties.afterCreate&&
a.properties.afterCreate.apply(a.properties.bind||a.properties,[b,c,a.vnodeSelector,a.properties,a.children])};w=function(b,a,c,e){var h,g,d,l,m,f=0,t=b.vnodeSelector;if(""===t)h=b.domNode=document.createTextNode(b.text),void 0!==c?a.insertBefore(h,c):a.appendChild(h);else{for(g=0;g<=t.length;++g)d=t.charAt(g),(g===t.length||"."===d||"#"===d)&&(l=t.charAt(f-1),m=t.slice(f,g),"."===l?h.classList.add(m):"#"===l?h.id=m:("svg"===m&&(e=A(e,{namespace:"http://www.w3.org/2000/svg"})),void 0!==e.namespace?
h=b.domNode=document.createElementNS(e.namespace,m):(h=b.domNode=document.createElement(m),"input"===m&&b.properties&&void 0!==b.properties.type&&h.setAttribute("type",b.properties.type)),void 0!==c?a.insertBefore(h,c):a.appendChild(h)),f=g+1);L(h,b,e)}};C=function(b,a,c){var e=b.domNode,h=!1;if(b===a)return!1;var g=!1;if(""===a.vnodeSelector){if(a.text!==b.text)return b=document.createTextNode(a.text),e.parentNode.replaceChild(b,e),a.domNode=b,h=!0}else{0===a.vnodeSelector.lastIndexOf("svg",0)&&
(c=A(c,{namespace:"http://www.w3.org/2000/svg"}));b.text!==a.text&&(g=!0,void 0===a.text?e.removeChild(e.firstChild):e.textContent=a.text);var d;d=b.children;var l=a.children,m=c;if(d===l)d=!1;else{d=d||F;for(var l=l||F,f,t=d.length,r=l.length,x=m.transitions,n=f=0,q=!1;r>n;){var p=t>f?d[f]:void 0,k=l[n];if(void 0!==p&&D(p,k))q=C(p,k,m)||q,f++;else{b:{var p=d,u=k;if(""!==u.vnodeSelector)for(var v=f+1;v<p.length;v++)if(D(p[v],u)){p=v;break b}p=-1}if(0<=p){for(;p>f;f++)K(d[f],x),E(d,f,a,"removed");
q=C(d[p],k,m)||q;f=p+1}else w(k,e,t>f?d[f].domNode:void 0,m),p=x,k.properties&&(u=k.properties.enterAnimation)&&("function"==typeof u?u(k.domNode,k.properties):p.enter(k.domNode,k.properties,u)),E(l,n,a,"added")}n++}if(t>f)for(;t>f;f++)K(d[f],x),E(d,f,a,"removed");d=q}g=d||g;d=b.properties;l=a.properties;m=c;if(l){q=!1;t=Object.keys(l);r=t.length;for(x=0;r>x;x++)if(k=t[x],n=l[k],f=d[k],"class"===k){if(f!==n)throw Error('"class" property may not be updated. Use the "classes" property for conditional css classes.');
}else if("classes"===k)for(p=e.classList,u=Object.keys(n),v=u.length,k=0;v>k;k++){var z=u[k],y=!!n[z];y!==!!f[z]&&(q=!0,y?p.add(z):p.remove(z))}else if("styles"===k)for(p=Object.keys(n),u=p.length,k=0;u>k;k++)v=p[k],z=n[v],z!==f[v]&&(q=!0,z?(J(z),m.styleApplyer(e,v,z)):m.styleApplyer(e,v,""));else if(n||"string"!=typeof f||(n=""),"value"===k)p=e[k],p!==n&&(e["oninput-value"]?p===e["oninput-value"]:n!==f)&&(e[k]=n,e["oninput-value"]=void 0),n!==f&&(q=!0);else if(n!==f){q=typeof n;if("function"===q)throw Error("Functions may not be updated on subsequent renders (property: "+
k+"). Hint: declare event handler functions outside the render() function.");"string"===q&&"innerHTML"!==k?"http://www.w3.org/2000/svg"===m.namespace&&"href"===k?e.setAttributeNS("http://www.w3.org/1999/xlink",k,n):"role"===k&&""===n?e.removeAttribute(k):e.setAttribute(k,n):e[k]!==n&&(e[k]=n);q=!0}d=q}else d=void 0;g=d||g;a.properties&&a.properties.afterUpdate&&a.properties.afterUpdate.apply(a.properties.bind||a.properties,[e,c,a.vnodeSelector,a.properties,a.children])}return g&&a.properties&&a.properties.updateAnimation&&
a.properties.updateAnimation(e,a.properties,b.properties),a.domNode=b.domNode,h};var B=function(b,a){return{update:function(c){if(b.vnodeSelector!==c.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");C(b,c,a);b=c},domNode:b.domNode}};r.h=function(b){var a=arguments[1];if("string"!=typeof b)throw Error();var c=1;!a||a.hasOwnProperty("vnodeSelector")||Array.isArray(a)||"object"!=typeof a?a=void 0:c=
2;var e,h,g=arguments.length;if(g===c+1){var d=arguments[c];"string"==typeof d?e=d:void 0!==d&&null!==d&&1===d.length&&"string"==typeof d[0]&&(e=d[0])}if(void 0===e)for(h=[];g>c;c++)d=arguments[c],null===d||void 0===d||(Array.isArray(d)?H(b,d,h):d.hasOwnProperty("vnodeSelector")?h.push(d):h.push(G(d)));return{vnodeSelector:b,properties:a,children:h,text:""===e?void 0:e,domNode:null}};r.dom={create:function(b,a){return a=A(y,a),w(b,document.createElement("div"),void 0,a),B(b,a)},append:function(b,
a,c){return c=A(y,c),w(a,b,void 0,c),B(a,c)},insertBefore:function(b,a,c){return c=A(y,c),w(a,b.parentNode,b,c),B(a,c)},merge:function(b,a,c){return c=A(y,c),a.domNode=b,L(b,a,c),B(a,c)},replace:function(b,a,c){return c=A(y,c),w(a,b.parentNode,b,c),b.parentNode.removeChild(b),B(a,c)}};r.createCache=function(){var b,a;return{invalidate:function(){b=a=void 0},result:function(c,e){if(b)for(var h=0;h<c.length;h++)b[h]!==c[h]&&(a=void 0);return a||(a=e(),b=c),a}}};r.createMapping=function(b,a,c){var e=
[],h=[];return{results:h,map:function(g){for(var d=g.map(b),l=h.slice(),m=0,f=0;f<g.length;f++){var t=g[f],r=d[f];if(r===e[m])h[f]=l[m],c(t,l[m],f),m++;else{for(var x=!1,n=1;n<e.length+1;n++){var q=(m+n)%e.length;if(e[q]===r){h[f]=l[q];c(g[f],l[q],f);m=q+1;x=!0;break}}x||(h[f]=a(t,f))}}h.length=g.length;e=d}}};r.createProjector=function(b){var a,c=A(y,b);c.eventHandlerInterceptor=function(b,c,d,e){return function(){return a.scheduleRender(),c.apply(e.bind||this,arguments)}};var e,h=!0,g=!1,d=[],l=
[],m=function(){if(e=void 0,h){h=!1;for(var a=0;a<d.length;a++){var b=l[a]();d[a].update(b)}h=!0}};return a={renderNow:m,scheduleRender:function(){e||g||(e=requestAnimationFrame(m))},stop:function(){e&&(cancelAnimationFrame(e),e=void 0);g=!0},resume:function(){g=!1;h=!0;a.scheduleRender()},append:function(a,b){d.push(r.dom.append(a,b(),c));l.push(b)},insertBefore:function(a,b){d.push(r.dom.insertBefore(a,b(),c));l.push(b)},merge:function(a,b){d.push(r.dom.merge(a,b(),c));l.push(b)},replace:function(a,
b){d.push(r.dom.replace(a,b(),c));l.push(b)},detach:function(a){for(var b=0;b<l.length;b++)if(l[b]===a)return l.splice(b,1),d.splice(b,1)[0];throw Error("renderMaquetteFunction was not found");}}}});