//>>built
define(["require","exports","../../../../core/tsSupport/extendsHelper","dojox/gfx/_base","./Shape"],function(c,k,l,f,m){Object.defineProperty(k,"__esModule",{value:!0});c=function(c){function e(b){var d=c.call(this)||this;return d.shape=f.getDefault("Polyline"),d.rawNode=b,d}return l(e,c),e.prototype.setShape=function(b,d){Array.isArray(b)?(this.shape=f.makeParameters(this.shape,{points:b}),d&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=f.makeParameters(this.shape,
b);this.bbox=null;this._normalizePoints();b=[];d=this.shape.points;for(var a=0;a<d.length;++a)b.push(d[a].x.toFixed(8),d[a].y.toFixed(8));return this.rawNode.setAttribute("points",b.join(" ")),this},e.prototype.getBoundingBox=function(){if(!this.bbox&&this.shape.points.length){for(var b=this.shape.points,d=b.length,a=b[0],g=a.x,c=a.y,e=a.x,f=a.y,h=1;d>h;++h)a=b[h],g>a.x&&(g=a.x),e<a.x&&(e=a.x),c>a.y&&(c=a.y),f<a.y&&(f=a.y);this.bbox={x:g,y:c,width:e-g,height:f-c}}return this.bbox},e.prototype._normalizePoints=
function(){var b=this.shape.points,d=b&&b.length;if(d&&"number"==typeof b[0]){for(var a=[],c=0;d>c;c+=2)a.push({x:b[c],y:b[c+1]});this.shape.points=a}},e}(m["default"]);c.nodeType="polyline";k.Polyline=c});